{"version":3,"file":"server.js","mappings":"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","sources":["webpack://basic-react-ssr-template/./configuration/setup/configuration.default.js","webpack://basic-react-ssr-template/./configuration/setup/configuration.development.js","webpack://basic-react-ssr-template/./configuration/setup/configuration.production.js","webpack://basic-react-ssr-template/./configuration/setup/index.js","webpack://basic-react-ssr-template/./src/client/app.jsx","webpack://basic-react-ssr-template/external commonjs2 \"prop-types\"","webpack://basic-react-ssr-template/./src/client/components/html.jsx","webpack://basic-react-ssr-template/./src/client/components/noMatch.jsx","webpack://basic-react-ssr-template/./src/client/components/onRouteChange.jsx","webpack://basic-react-ssr-template/./src/client/components/shoes.jsx","webpack://basic-react-ssr-template/./src/client/pages/Category.jsx","webpack://basic-react-ssr-template/./src/client/pages/Counter.jsx","webpack://basic-react-ssr-template/./src/client/pages/Home.jsx","webpack://basic-react-ssr-template/external commonjs2 \"react-dom/server\"","webpack://basic-react-ssr-template/./src/shared/sharedRoutes.js","webpack://basic-react-ssr-template/external commonjs2 \"redux\"","webpack://basic-react-ssr-template/./src/shared/redux/counterReducer.js","webpack://basic-react-ssr-template/external commonjs2 \"redux-logger\"","webpack://basic-react-ssr-template/external commonjs2 \"redux-thunk\"","webpack://basic-react-ssr-template/./src/server/middleware/renderView.jsx","webpack://basic-react-ssr-template/./src/shared/redux/initRedux.js","webpack://basic-react-ssr-template/./src/shared/redux/actionCreators.js","webpack://basic-react-ssr-template/external commonjs2 \"lodash/merge\"","webpack://basic-react-ssr-template/external commonjs2 \"react\"","webpack://basic-react-ssr-template/external commonjs2 \"react-redux\"","webpack://basic-react-ssr-template/external commonjs2 \"react-router-config\"","webpack://basic-react-ssr-template/external commonjs2 \"react-router-dom\"","webpack://basic-react-ssr-template/webpack/bootstrap","webpack://basic-react-ssr-template/webpack/runtime/compat get default export","webpack://basic-react-ssr-template/webpack/runtime/define property getters","webpack://basic-react-ssr-template/webpack/runtime/harmony module decorator","webpack://basic-react-ssr-template/webpack/runtime/hasOwnProperty shorthand","webpack://basic-react-ssr-template/webpack/runtime/make namespace object","webpack://basic-react-ssr-template/external commonjs2 \"express\"","webpack://basic-react-ssr-template/./src/server/app.js"],"sourcesContent":["module.exports = {\n  publicPath: \"/assets\",\n};\n","module.exports = {\n  webpackDevServer: {\n    port: 3001,\n  },\n  webserver: {\n    port: 3000,\n  },\n};\n","module.exports = {\n  webserver: {\n    port: 3000,\n  },\n};\n","const merge = require(\"lodash/merge\");\n\nconst defaultConfiguration = require(\"./configuration.default\");\n\nconst configuration = merge({}, defaultConfiguration);\n\nmodule.exports = configuration;\n\nmerge(configuration, getConfiguration(process.env.NODE_ENV));\n\n// For services like Amazon Elastic Compute Cloud and Heroku\nif (process.env.PORT) {\n  configuration.webserver.port = process.env.PORT;\n}\n\n// For passing custom configuration via an environment variable.\n// For frameworks like Docker.\n// E.g. `CONFIGURATION=\"{ \\\"key\\\": \\\"value\\\" }\" npm start`.\nif (process.env.CONFIGURATION) {\n  try {\n    merge(configuration, JSON.parse(process.env.CONFIGURATION));\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nfunction getConfiguration(env) {\n  switch (env) {\n    case \"production\":\n      return require(\"./configuration.production\");\n    default:\n      return require(\"./configuration.development\");\n  }\n}\n","import React, { useEffect, Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { renderRoutes } from \"react-router-config\";\nimport onRouteChange from \"./components/onRouteChange\";\nimport { connect } from \"react-redux\";\n\nconst App = (props) => {\n  useEffect(() => {\n    console.log(\"app ran in client\");\n  }, []);\n\n  return (\n    <div>\n      <nav>\n        <ul>\n          <li>\n            <Link to=\"/\">Home</Link>\n          </li>\n          <li>\n            <Link to=\"/category\">Category</Link>\n          </li>\n          <li>\n            <Link to=\"/counter\">counter</Link>\n          </li>\n        </ul>\n      </nav>\n\n      {renderRoutes(props.route.routes, { history: props.history })}\n    </div>\n  );\n};\n\nexport default connect()(onRouteChange(App));\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"prop-types\");","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst HTML = (props) => {\n  const metatagsArray = [];\n\n  props.metatags.forEach((item, index) => {\n    metatagsArray.push(<meta key={`meta-${index}`} {...item} />);\n  });\n\n  return (\n    <html>\n      <head>\n        <title>{props.title}</title>\n        <meta\n          name=\"viewport\"\n          content=\"width=device-width, initial-scale=1.0\"\n        ></meta>\n        {metatagsArray}\n        {Object.keys(props.assets.chunks().styles).map((key) => {\n          return (\n            <link\n              key={key}\n              rel=\"stylesheet\"\n              href={props.assets.chunks().styles[key]}\n            />\n          );\n        })}\n      </head>\n      <body>\n        <div\n          id=\"react-content\"\n          dangerouslySetInnerHTML={{\n            __html: props.renderedToStringComponents,\n          }}\n        />\n        <script\n          dangerouslySetInnerHTML={{\n            __html: `window.__SERIALIZED_STATE__ = JSON.stringify(${props.serverState})`,\n          }}\n        />\n        {Object.keys(props.assets.chunks().javascript).map((key) => {\n          return (\n            <script\n              key={key}\n              type=\"application/javascript\"\n              src={props.assets.chunks().javascript[key]}\n            />\n          );\n        })}\n      </body>\n    </html>\n  );\n};\n\nHTML.propTypes = {\n  renderedToStringComponents: PropTypes.string,\n};\n\nexport default HTML;\n","import React from \"react\";\n\nexport default function NoMatch() {\n  return <div>Four Oh Four</div>;\n}\n","import React from \"react\";\nimport { matchRoutes } from \"react-router-config\";\n\nconst onRouteChange = (WrappedComponent) => {\n  return class extends React.PureComponent {\n    trackPageView() {\n      // In real life you would hook this up to your analytics tool of choice\n      console.log(\"Tracked a pageview\");\n    }\n\n    fetchData(nextProps) {\n      const { route, location } = nextProps;\n      const { routes } = route;\n      const matches = matchRoutes(routes, location.pathname);\n      const results = matches.map(({ match, route }) => {\n        const component = route.component;\n        if (component) {\n          if (\n            component.displayName &&\n            component.displayName.toLowerCase().indexOf(\"connect\") > -1\n          ) {\n            let parentComponent = component.WrappedComponent;\n            if (parentComponent.prefetchActions) {\n              return parentComponent.prefetchActions(\n                location.pathname.substring(1)\n              );\n            } else if (\n              parentComponent.wrappedComponent &&\n              parentComponent.wrappedComponent().prefetchActions\n            ) {\n              return parentComponent\n                .wrappedComponent()\n                .prefetchActions(location.pathname.substring(1));\n            }\n          } else if (component.prefetchActions) {\n            return component.prefetchActions(location.pathname.substring(1));\n          }\n        }\n        return [];\n      });\n\n      const actions = results.reduce((flat, toFlatten) => {\n        return flat.concat(toFlatten);\n      }, []);\n\n      const promises = actions.map((initialAction) => {\n        return this.props.dispatch(initialAction());\n      });\n      Promise.all(promises);\n    }\n\n    componentDidMount() {\n      this.trackPageView();\n    }\n\n    componentWillReceiveProps(nextProps) {\n      this.fetchData(nextProps);\n      const navigated = nextProps.location !== this.props.location;\n\n      if (navigated) {\n        this.trackPageView();\n      }\n    }\n\n    render() {\n      return <WrappedComponent {...this.props} />;\n    }\n  };\n};\n\nexport default onRouteChange;\n//file chnge -> reload browser  fs event\n//open tab\n//listen to tab\n","import React from \"react\";\n\nconst Shoes = ({ someProp }) => (\n  <div>\n    <h3>Shoes</h3>\n    <div>{someProp}</div>\n  </div>\n);\n\nexport default Shoes;\n","import React from \"react\";\nimport { Switch, Link, Route } from \"react-router-dom\";\nimport { renderRoutes } from \"react-router-config\";\n\nconst Category = (props) => {\n  console.log(\"props\", props);\n  //   console.log(\"children\", children, route);\n  const { match } = props;\n  return (\n    <div>\n      <ul>\n        <li>\n          <Link to={`${match.url}/shoes`}>Shoes</Link>\n        </li>\n        <li>\n          <Link to={`${match.url}/boots`}>Boots</Link>\n        </li>\n        <li>\n          <Link to={`${match.url}/footwear`}>Footwear</Link>\n        </li>\n      </ul>\n\n      {renderRoutes(props.route.routes, {\n        someProp: \"these extra props are optional\",\n      })}\n    </div>\n  );\n};\n\nexport default Category;\n","import React, { Component } from \"react\";\nimport { increment, decrement } from \"../../shared/redux/actionCreators.js\";\nimport { connect } from \"react-redux\";\n\nclass Counter extends Component {\n  static prefetchActions() {\n    return [];\n  }\n\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    const { dispatch, counter, decrement, increment } = this.props;\n    return (\n      <div>\n        counter: {counter}\n        <div>\n          <button onClick={() => increment()}>increment</button>\n          <button onClick={() => decrement()}>decrement</button>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return state;\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    increment: () => dispatch(increment()),\n    decrement: () => dispatch(decrement()),\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Counter);\n","import React, { useEffect } from \"react\";\n\nconst Home = (props) => {\n  useEffect(() => {\n    document.getElementsByTagName(\"title\")[0].innerHTMl =\n      Home.createTitle(props);\n  }, []);\n\n  useEffect(() => {\n    document.getElementsByTagName(\"title\")[0].innerHTMl =\n      Home.createTitle(props);\n  }, [props]);\n\n  return (\n    <div>\n      <p>Home!!</p>\n    </div>\n  );\n};\n\nHome.createMetatags = (params) => {\n  const tags = [];\n\n  tags.push({\n    name: \"description\",\n    content: \"Home conent\",\n  });\n  tags.push({\n    property: \"og:description\",\n    content: \"Home description\",\n  });\n  tags.push({\n    property: \"og:title\",\n    content: \"Home title\",\n  });\n  tags.push({\n    property: \"og:url\",\n    content: `http://localhost:8000`,\n  });\n  tags.push({\n    property: \"og:image\",\n    content: \"Home image\",\n  });\n\n  return tags;\n};\n\nHome.createTitle = (props) => {\n  return `Home`;\n};\n\nexport default Home;\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"react-dom/server\");","import App from \"../client/app\";\nimport Home from \"../client/pages/Home\";\nimport Category from \"../client/pages/Category\";\nimport Counter from \"../client/pages/Counter\";\nimport NoMatch from \"../client/components/noMatch\";\nimport Shoes from \"../client/components/shoes\";\n\nconst routes = [\n  {\n    component: App,\n    routes: [\n      {\n        path: \"/\",\n        exact: true,\n        component: Home,\n      },\n      {\n        path: \"/category\",\n        component: Category,\n        routes: [\n          {\n            path: \"/category/shoes\",\n            component: Shoes,\n          },\n        ],\n      },\n      {\n        path: \"/counter\",\n        exact: true,\n        component: Counter,\n      },\n      {\n        component: NoMatch,\n      },\n    ],\n  },\n];\n\n// if (process.env.NODE_ENV !== \"production\") {\n//   routes[0].routes.push({\n//     path: \"/dev-test\",\n//     component: Products,\n//   });\n// }\n\nexport default routes;\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"redux\");","import { INCREMENT, DECREMENT } from \"./actionCreators.js\";\n\nexport default function counterReducer(state = 0, action) {\n  switch (action.type) {\n    case INCREMENT:\n      return state + 1;\n\n    case DECREMENT:\n      return state - 1;\n    default:\n      return state;\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"redux-logger\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"redux-thunk\");","import React from \"react\";\nimport { renderToString } from \"react-dom/server\";\nimport { StaticRouter } from \"react-router-dom\";\nimport { matchRoutes, renderRoutes } from \"react-router-config\";\nimport { Provider } from \"react-redux\";\nimport routes from \"../../shared/sharedRoutes.js\";\nimport HTML from \"../../client/components/html\";\nimport initRedux from \"../../shared/redux/initRedux\";\n\nfunction flattenStaticFunction(matches, staticFuncName, store = {}, request) {\n  let results = matches.map(({ match, route }) => {\n    const component = route.component;\n    if (component) {\n      if (\n        component.displayName &&\n        component.displayName.toLowerCase().indexOf(\"connect\") > -1\n      ) {\n        let parentComponent = component.WrappedComponent;\n        if (parentComponent[staticFuncName]) {\n          return parentComponent[staticFuncName](\n            request.params[0],\n            store,\n            request\n          );\n        } else if (\n          parentComponent.wrappedComponent &&\n          parentComponent.wrappedComponent[staticFuncName]\n        ) {\n          return parentComponent.wrappedComponent[staticFuncName](\n            request.params[0],\n            store,\n            request\n          );\n        }\n      } else if (component[staticFuncName]) {\n        return component[staticFuncName](request.params[0], store, request);\n      }\n    }\n\n    return [];\n  });\n\n  results = results.reduce((flat, toFlatten) => {\n    return flat.concat(toFlatten);\n  }, []);\n  return results;\n}\n\nexport default function renderView(parameters) {\n  return function (req, res, next) {\n    const matches = matchRoutes(routes, req.path);\n    const context = {};\n\n    if (matches) {\n      const store = initRedux();\n\n      let actions = flattenStaticFunction(\n        matches,\n        \"prefetchActions\",\n        null,\n        req\n      );\n\n      actions = actions.reduce((flat, toFlatten) => {\n        return flat.concat(toFlatten);\n      }, []);\n\n      const promises = actions.map((initialAction) => {\n        return store.dispatch(initialAction());\n      });\n\n      Promise.all(promises).then(() => {\n        const serverState = store.getState();\n        const stringifiedServerState = JSON.stringify(serverState);\n\n        const seoTags = flattenStaticFunction(\n          matches,\n          \"createMetatags\",\n          serverState,\n          req\n        );\n\n        const title = flattenStaticFunction(\n          matches,\n          \"createTitle\",\n          serverState,\n          req\n        );\n\n        const app = renderToString(\n          <Provider store={store}>\n            <StaticRouter location={req.url} context={context}>\n              {renderRoutes(routes)}\n            </StaticRouter>\n          </Provider>\n        );\n\n        if (!context.url) {\n          const html = renderToString(\n            <HTML\n              title={title}\n              metatags={seoTags}\n              assets={parameters}\n              renderedToStringComponents={app}\n              serverState={stringifiedServerState}\n            />\n          );\n          // cache.set(req.url, `<!DOCTYPE html>${html}`);\n          return res.send(`<!DOCTYPE html>${html}`);\n        }\n      });\n    } else {\n      next();\n    }\n  };\n}\n","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\nimport counterReducer from \"./counterReducer.js\";\nimport loggerMiddleware from \"redux-logger\";\nimport thunkMiddleware from \"redux-thunk\";\n\nexport default function (initialState = {}) {\n  const reducer = combineReducers({\n    counter: counterReducer,\n  });\n\n  let middleware = [loggerMiddleware, thunkMiddleware];\n\n  const store = createStore(\n    reducer,\n    initialState,\n    compose(applyMiddleware(...middleware))\n  );\n\n  return store;\n}\n","// import fetch from \"isomorphic-fetch\";\n\nexport const INCREMENT = \"INCREMENT\";\nexport const DECREMENT = \"DECREMENT\";\n\nexport function increment() {\n  return { type: \"INCREMENT\" };\n}\n\nexport function decrement() {\n  return { type: \"DECREMENT\" };\n}\n","module.exports = require(\"lodash/merge\");","module.exports = require(\"react\");","module.exports = require(\"react-redux\");","module.exports = require(\"react-router-config\");","module.exports = require(\"react-router-dom\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.hmd = (module) => {\n\tmodule = Object.create(module);\n\tif (!module.children) module.children = [];\n\tObject.defineProperty(module, 'exports', {\n\t\tenumerable: true,\n\t\tset: () => {\n\t\t\tthrow new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);\n\t\t}\n\t});\n\treturn module;\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"express\");","import express from \"express\";\nimport renderViewMiddleware from \"./middleware/renderView\";\nconst setupConfiguration = require(\"../../configuration/setup\");\nconst PORT = setupConfiguration.webserver.port;\n\nexport default function server(parameters) {\n  const app = express();\n\n  app.use(\"/assets\", express.static(\"build/assets\"));\n\n  app.use(renderViewMiddleware(parameters));\n\n  app.listen(PORT, () => {\n    console.log(`App listening on port: ${PORT}`);\n  });\n}\n"],"names":["module","exports","publicPath","webpackDevServer","port","webserver","merge","configuration","process","env","PORT","CONFIGURATION","JSON","parse","error","console","App","props","useEffect","log","Link","to","renderRoutes","route","routes","history","connect","onRouteChange","require","HTML","metatagsArray","metatags","forEach","item","index","push","key","title","name","content","Object","keys","assets","chunks","styles","map","rel","href","id","dangerouslySetInnerHTML","__html","renderedToStringComponents","serverState","javascript","type","src","propTypes","PropTypes","NoMatch","WrappedComponent","nextProps","location","promises","matchRoutes","pathname","match","component","displayName","toLowerCase","indexOf","parentComponent","prefetchActions","substring","wrappedComponent","reduce","flat","toFlatten","concat","initialAction","dispatch","Promise","all","this","trackPageView","fetchData","React","Shoes","someProp","Category","url","Counter","counter","decrement","increment","onClick","Component","mapStateToProps","state","mapDispatchToProps","Home","document","getElementsByTagName","innerHTMl","createTitle","createMetatags","params","tags","property","path","exact","counterReducer","action","flattenStaticFunction","matches","staticFuncName","store","request","results","renderView","parameters","req","res","next","context","initialState","reducer","combineReducers","middleware","createStore","compose","applyMiddleware","initRedux","actions","then","getState","stringifiedServerState","stringify","seoTags","app","renderToString","Provider","StaticRouter","html","send","INCREMENT","DECREMENT","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","loaded","__webpack_modules__","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","hmd","create","children","set","Error","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","server","use","listen"],"sourceRoot":""}
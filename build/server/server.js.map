{"version":3,"file":"server.js","mappings":"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","sources":["webpack://basic-react-ssr-template/./src/action-creators.es6","webpack://basic-react-ssr-template/./src/app.es6","webpack://basic-react-ssr-template/./src/cart-reducer.es6","webpack://basic-react-ssr-template/./src/components/Product.jsx","webpack://basic-react-ssr-template/./src/components/app.jsx","webpack://basic-react-ssr-template/./src/components/cart.jsx","webpack://basic-react-ssr-template/./src/components/html.jsx","webpack://basic-react-ssr-template/./src/components/item.jsx","webpack://basic-react-ssr-template/./src/components/login.jsx","webpack://basic-react-ssr-template/./src/components/nav.jsx","webpack://basic-react-ssr-template/./src/components/onRouteChange.jsx","webpack://basic-react-ssr-template/./src/components/profile.jsx","webpack://basic-react-ssr-template/./src/init-redux.es6","webpack://basic-react-ssr-template/./src/middleware/renderView.jsx","webpack://basic-react-ssr-template/./src/recipe-reducer.es6","webpack://basic-react-ssr-template/./src/shared/sharedRoutes2.es6","webpack://basic-react-ssr-template/external commonjs2 \"express\"","webpack://basic-react-ssr-template/external commonjs2 \"isomorphic-fetch\"","webpack://basic-react-ssr-template/external commonjs2 \"prop-types\"","webpack://basic-react-ssr-template/external commonjs2 \"react\"","webpack://basic-react-ssr-template/external commonjs2 \"react-dom/server\"","webpack://basic-react-ssr-template/external commonjs2 \"react-redux\"","webpack://basic-react-ssr-template/external commonjs2 \"react-router-config\"","webpack://basic-react-ssr-template/external commonjs2 \"react-router-dom\"","webpack://basic-react-ssr-template/external commonjs2 \"redux\"","webpack://basic-react-ssr-template/external commonjs2 \"redux-logger\"","webpack://basic-react-ssr-template/external commonjs2 \"redux-thunk\"","webpack://basic-react-ssr-template/external node-commonjs \"fs\"","webpack://basic-react-ssr-template/webpack/bootstrap","webpack://basic-react-ssr-template/webpack/runtime/compat get default export","webpack://basic-react-ssr-template/webpack/runtime/define property getters","webpack://basic-react-ssr-template/webpack/runtime/harmony module decorator","webpack://basic-react-ssr-template/webpack/runtime/hasOwnProperty shorthand","webpack://basic-react-ssr-template/webpack/runtime/make namespace object","webpack://basic-react-ssr-template/webpack/before-startup","webpack://basic-react-ssr-template/webpack/startup","webpack://basic-react-ssr-template/webpack/after-startup"],"sourcesContent":["import fetch from \"isomorphic-fetch\";\n\nexport const GET_RECIPES = \"GET_RECIPES\";\nexport const GET_FEATURED_RECIPE = \"GET_FEATURED_RECIPE\";\n\nexport function fetchRecipes() {\n  return (dispatch) => {\n    return fetch(\"http://localhost:3000/recipes\", {\n      method: \"GET\",\n    })\n      .then((response) => {\n        return response.json().then((data) => {\n          return dispatch({\n            type: GET_RECIPES,\n            data: data.recipes,\n          });\n        });\n      })\n      .catch((e) => {\n        console.log(\"error\", e);\n      });\n  };\n}\n\nexport function fetchFeaturedRecipe() {\n  return (dispatch) => {\n    return fetch(\"http://localhost:3000/featured\", {\n      method: \"GET\",\n    })\n      .then((response) => {\n        return response.json().then((data) => {\n          return dispatch({\n            type: GET_FEATURED_RECIPE,\n            data: data.recipe,\n          });\n        });\n      })\n      .catch((e) => {\n        console.log(\"error\", e);\n      });\n  };\n}\n\nexport function getHomePageData() {\n  return (dispatch, getState) => {\n    return Promise.all([\n      dispatch(fetchFeaturedRecipe()),\n      dispatch(fetchRecipes()),\n    ]);\n  };\n}\n\nexport const GET_CART_ITEMS = \"GET_CART_ITEMS\";\n\nexport function getCartItems() {\n  return (dispatch) => {\n    return fetch(\"http://localhost:3000/api/user/cart\", {\n      method: \"GET\",\n    }).then((response) => {\n      console.log(\"GET_CART_ITEMS\", response);\n      return response.json().then((data) => {\n        return dispatch({\n          type: GET_CART_ITEMS,\n          data: data.items,\n        });\n      });\n    });\n  };\n}\n","import express from \"express\";\nimport fs from \"fs\";\nimport renderViewMiddleware from \"./middleware/renderView\";\n\nexport default function server(parameters) {\n  console.log(\"oarams\", parameters);\n  const app = express();\n\n  app.use(express.static(__dirname));\n\n  app.get(\"/api/user/cart\", (req, res) => {\n    fs.readFile(\"./data/cart.json\", \"utf8\", (err, data) => {\n      if (err) {\n        return res.status(404).send;\n      }\n      return res.send(JSON.parse(data));\n    });\n  });\n\n  app.get(\"/recipes\", (req, res) => {\n    // Read and open the recipes json file\n    fs.readFile(`${__dirname}/../data/recipes.json`, \"utf8\", (err, data) => {\n      // Error handling - return an error\n      if (err) {\n        res.status(500).end();\n        return console.error(err);\n      }\n      let recipes = JSON.parse(data);\n      res.status(200).send({ recipes });\n    });\n  });\n\n  app.get(\"/featured\", (req, res) => {\n    // Read and open the featured recipe json file\n    fs.readFile(`${__dirname}/../data/featured.json`, \"utf8\", (err, data) => {\n      // Error handling - return an error\n      if (err) {\n        res.status(500).end();\n        return console.error(err);\n      }\n      let recipe = JSON.parse(data);\n      res.status(200).send({ recipe });\n    });\n  });\n\n  app.get(\"/test\", (req, res) => {\n    res.send(\"Test route success!\");\n  });\n\n  app.get(\"/*\", renderViewMiddleware(parameters));\n\n  app.listen(3001, () => {\n    console.log(\"App listening on port: 3001\");\n  });\n}\n","import { GET_CART_ITEMS } from \"./action-creators.es6\";\n\nexport default function cart(state = {}, action) {\n  switch (action.type) {\n    case GET_CART_ITEMS:\n      return {\n        ...state,\n        items: action.data,\n      };\n    case `${GET_CART_ITEMS}_ERROR`:\n      return state;\n    default:\n      return state;\n  }\n}\n","import React from \"react\";\n\nexport default () => {\n  return (\n    <p className=\"products\">Please thanks for helping me i hope its all good</p>\n  );\n};\n","import React, { useEffect, Component } from \"react\";\nimport { Route, Link } from \"react-router-dom\";\nimport Cart from \"./cart\";\nimport { renderRoutes } from \"react-router-config\";\nimport onRouteChange from \"./onRouteChange\";\nimport { connect } from \"react-redux\";\nimport Nav from \"./nav\";\n\nconst App = (props) => {\n  useEffect(() => {\n    console.log(\"app ran in client\");\n  }, []);\n\n  return (\n    <div>\n      {/* <div className=\"ui fixed inverted menu\">\n        <h1 className=\"header item\">All Things Westies</h1>\n        <Link to=\"/products\" className=\"item\">\n          Products\n        </Link>\n        <Link to=\"/cart\" className=\"item\">\n          Cart\n        </Link>\n        <Link to=\"/profile\" className=\"item\">\n          Profile\n        </Link>\n      </div> */}\n      <Nav />\n\n      {renderRoutes(props.route.routes, { history: props.history })}\n    </div>\n  );\n};\n\nexport default connect()(onRouteChange(App));\n","import React, { Component } from \"react\";\nimport { getCartItems } from \"../action-creators.es6\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport Item from \"./item\";\n\nclass Cart extends Component {\n  static prefetchActions() {\n    return [];\n  }\n\n  // static createMetatags(params, store) {\n  //   const tags = [];\n  //   const items = store.cart ? store.cart.items : null;\n\n  //   if ()\n  // }\n\n  constructor(props) {\n    super(props);\n    this.proceedToCheckout = this.proceedToCheckout.bind(this);\n  }\n\n  getTotal() {\n    let total = 0;\n    const items = this.props.items;\n    if (items) {\n      total = items.reduce((prev, current) => {\n        return prev + current.price;\n      }, total);\n    }\n    return total;\n  }\n\n  proceedToCheckout() {\n    console.log(\"clicked checkout button\", this.props);\n  }\n\n  renderItems() {\n    const components = [];\n    const items = this.props.items;\n    if (items) {\n      items.forEach((item, index) => {\n        components.push(<Item key={index} {...item} />);\n      });\n    }\n    return components;\n  }\n\n  render() {\n    return (\n      <div className=\"cart main ui segment\">\n        <div className=\"ui segment divided items\">{this.renderItems()}</div>\n        <div className=\"ui right rail\">\n          <div className=\"ui segment\">\n            <span>Total: </span>\n            <span>${this.getTotal()}</span>\n            <div>Placeholder</div>\n            <button\n              onClick={this.proceedToCheckout}\n              className=\"ui positive basic button\"\n            >\n              Checkout\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  const { items } = state.cart;\n  return {\n    items,\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    cartActions: bindActionCreators([getCartItems], dispatch),\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Cart);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst HTML = (props) => {\n  // const metatagsArray = [];\n\n  // props.metatags.forEach((item) => {\n  //   metatagsArray.push(<meta {...item} />);\n  // });\n\n  // console.log(\n  //   \"assets\",\n  //   props.assets.chunks().javascript.main,\n  //   Object.keys(props.assets.chunks().javascript).length\n  // );\n  return (\n    <html>\n      <head>\n        <title>React SSR Template</title>\n        {/* {metatagsArray} */}\n\n        {/* <link rel=\"stylesheet\" href=\"assets/style.css\" /> */}\n      </head>\n      <body>\n        <div\n          id=\"react-content\"\n          dangerouslySetInnerHTML={{\n            __html: props.renderedToStringComponents,\n          }}\n        />\n        <script\n          dangerouslySetInnerHTML={{\n            __html: `window.__SERIALIZED_STATE__ = JSON.stringify(${props.serverState})`,\n          }}\n        />\n\n        {Object.keys(props.assets.chunks().javascript).map((key) => {\n          return (\n            <script\n              key={key}\n              type=\"application/javascript\"\n              src={props.assets.chunks().javascript[key]}\n            />\n          );\n        })}\n      </body>\n    </html>\n  );\n};\n\nHTML.propTypes = {\n  renderedToStringComponents: PropTypes.string,\n};\n\nexport default HTML;\n","import React from \"react\";\n\nconst Item = (props) => {\n  return (\n    // <div className=\"item\">\n    //   <div className=\"ui tiny image\">\n    //     <img src={props.thumbnail} alt=\"cart\" />\n    //   </div>\n    //   <div className=\"middle aligned content\">{props.name}</div>\n    //   <div className=\"right aligned content\">${props.price}</div>\n    // </div>\n    <div className=\"row\">\n      <div className=\"col s12 m7\">\n        <div className=\"card\">\n          <div className=\"card-image\">\n            <img src=\"images/sample-1.jpg\" />\n            <span className=\"card-title\">{props.name}</span>\n          </div>\n          <div className=\"card-content\">\n            <p>{props.price}</p>\n          </div>\n          <div className=\"card-action\">\n            {/* <a href=\"#\">This is a link</a> */}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Item.propTypes = {\n//   name: React.PropTypes.string.isRequired,\n//   price: React.PropTypes.number.isRequired,\n//   thumbnail: React.PropTypes.string.isRequired,\n// };\n\nexport default Item;\n","import React from \"react\";\n\nexport default () => {\n  return <p>login</p>;\n};\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport default () => {\n  return (\n    <nav>\n      <div className=\"nav-wrapper\">\n        <a href=\"#\" className=\"brand-logo\">\n          Logo\n        </a>\n        <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\n          <Link to=\"/products\" className=\"item\">\n            Products\n          </Link>\n          <Link to=\"/cart\" className=\"item\">\n            Cart\n          </Link>\n          <Link to=\"/profile\" className=\"item\">\n            Profile\n          </Link>\n        </ul>\n      </div>\n    </nav>\n  );\n};\n","import React from \"react\";\nimport { matchRoutes } from \"react-router-config\";\n\nconst onRouteChange = (WrappedComponent) => {\n  return class extends React.PureComponent {\n    trackPageView() {\n      // In real life you would hook this up to your analytics tool of choice\n      console.log(\"Tracked a pageview\");\n    }\n\n    fetchData(nextProps) {\n      const { route, location } = nextProps;\n      const { routes } = route;\n      const matches = matchRoutes(routes, location.pathname); //#B\n      const results = matches.map(({ match, route }) => {\n        //#C\n        const component = route.component;\n        if (component) {\n          //#D\n          if (\n            component.displayName &&\n            component.displayName.toLowerCase().indexOf(\"connect\") > -1\n          ) {\n            let parentComponent = component.WrappedComponent;\n            if (parentComponent.prefetchActions) {\n              return parentComponent.prefetchActions(\n                location.pathname.substring(1)\n              );\n            } else if (\n              parentComponent.wrappedComponent &&\n              parentComponent.wrappedComponent().prefetchActions\n            ) {\n              //#E\n              return parentComponent\n                .wrappedComponent()\n                .prefetchActions(location.pathname.substring(1));\n            }\n          } else if (component.prefetchActions) {\n            return component.prefetchActions(location.pathname.substring(1));\n          }\n        }\n        return [];\n      });\n\n      const actions = results.reduce((flat, toFlatten) => {\n        return flat.concat(toFlatten);\n      }, []);\n\n      const promises = actions.map((initialAction) => {\n        return this.props.dispatch(initialAction());\n      });\n      Promise.all(promises);\n    }\n\n    componentDidMount() {\n      this.trackPageView();\n    }\n\n    componentWillReceiveProps(nextProps) {\n      this.fetchData(nextProps);\n      const navigated = nextProps.location !== this.props.location;\n\n      if (navigated) {\n        this.trackPageView();\n      }\n    }\n\n    render() {\n      return <WrappedComponent {...this.props} />;\n    }\n  };\n};\n\nexport default onRouteChange;\n","import React from \"react\";\n\nexport default () => {\n  return <p>profile</p>;\n};\n","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\nimport recipes from \"./recipe-reducer\";\nimport cart from \"./cart-reducer.es6\";\n\nimport loggerMiddleware from \"redux-logger\";\nimport thunkMiddleware from \"redux-thunk\";\n\nexport default function (initialState = {}) {\n  const reducer = combineReducers({\n    recipes,\n    cart: cart,\n  });\n\n  let middleware = [thunkMiddleware];\n\n  const store = createStore(\n    reducer,\n    initialState,\n    compose(applyMiddleware(...middleware))\n  );\n\n  return store;\n}\n","import React from \"react\";\nimport { renderToString, renderToNodeStream } from \"react-dom/server\";\nimport { StaticRouter } from \"react-router-dom\";\nimport { matchRoutes, renderRoutes } from \"react-router-config\";\nimport { Provider } from \"react-redux\";\nimport routes from \"../shared/sharedRoutes2.es6\";\nimport HTML from \"../components/html\";\nimport initRedux from \"../init-redux\";\n// import cache from \"../shared/cache.es6\";\n\nexport default function renderView(parameters) {\n  return function (req, res, next) {\n    const matches = matchRoutes(routes, req.path);\n    const context = {};\n\n    if (matches) {\n      // const cachedPage = cache.get(req.url);\n      // if (cachedPage) {\n      //   return res.send(cachedPage);\n      // }\n\n      const store = initRedux();\n      let actions = [];\n      matches.map(({ match, route }) => {\n        const component = route.component;\n        if (component) {\n          if (\n            component.displayName &&\n            component.displayName.toLowerCase().indexOf(\"connect\") > -1\n          ) {\n            let parentComponent = component.WrappedComponent;\n            if (parentComponent.prefetchActions) {\n              actions.push(parentComponent.prefetchActions());\n            } else if (\n              parentComponent.wrappedComponent &&\n              parentComponent.wrappedComponent().prefetchActions\n            ) {\n              actions.push(\n                parentComponent.wrappedComponent().prefetchActions()\n              );\n            }\n          } else if (component.prefetchActions) {\n            actions.push(component.prefetchActions());\n          }\n        }\n      });\n      actions = actions.reduce((flat, toFlatten) => {\n        return flat.concat(toFlatten);\n      }, []);\n\n      const promises = actions.map((initialAction) => {\n        return store.dispatch(initialAction());\n      });\n      Promise.all(promises).then(() => {\n        const serverState = store.getState();\n        const stringifiedServerState = JSON.stringify(serverState);\n        const app = renderToString(\n          <Provider store={store}>\n            <StaticRouter location={req.url} context={context}>\n              {renderRoutes(routes)}\n            </StaticRouter>\n          </Provider>\n        );\n\n        if (!context.url) {\n          const html = renderToString(\n            <HTML\n              assets={parameters}\n              renderedToStringComponents={app}\n              serverState={stringifiedServerState}\n            />\n          );\n          // cache.set(req.url, `<!DOCTYPE html>${html}`);\n          return res.send(`<!DOCTYPE html>${html}`);\n        }\n      });\n    } else {\n      next();\n    }\n  };\n}\n","import { GET_RECIPES, GET_FEATURED_RECIPE } from \"./action-creators.es6\";\n\nexport default function recipes(state = {}, action) {\n  switch (action.type) {\n    case GET_RECIPES:\n      return {\n        ...state,\n        recipes: action.data,\n      };\n    case GET_FEATURED_RECIPE:\n      return {\n        ...state,\n        featuredRecipe: action.data,\n      };\n\n    default:\n      return state;\n  }\n}\n","import App from \"../components/app\";\nimport Cart from \"../components/cart\";\nimport Products from \"../components/Product\";\nimport Profile from \"../components/profile\";\nimport Login from \"../components/login\";\n\nconst routes = [\n  {\n    component: App,\n    routes: [\n      {\n        path: \"/\",\n        exact: true,\n        component: Products,\n      },\n      {\n        path: \"/cart\",\n        component: Cart,\n      },\n      {\n        path: \"/products\",\n        component: Products,\n      },\n      {\n        path: \"/profile\",\n        component: Profile,\n      },\n      {\n        path: \"/login\",\n        component: Login,\n      },\n    ],\n  },\n];\n\n// if (process.env.NODE_ENV !== \"production\") {\n//   routes[0].routes.push({\n//     path: \"/dev-test\",\n//     component: Products,\n//   });\n// }\n\nexport default routes;\n","module.exports = require(\"express\");","module.exports = require(\"isomorphic-fetch\");","module.exports = require(\"prop-types\");","module.exports = require(\"react\");","module.exports = require(\"react-dom/server\");","module.exports = require(\"react-redux\");","module.exports = require(\"react-router-config\");","module.exports = require(\"react-router-dom\");","module.exports = require(\"redux\");","module.exports = require(\"redux-logger\");","module.exports = require(\"redux-thunk\");","module.exports = require(\"fs\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.hmd = (module) => {\n\tmodule = Object.create(module);\n\tif (!module.children) module.children = [];\n\tObject.defineProperty(module, 'exports', {\n\t\tenumerable: true,\n\t\tset: () => {\n\t\t\tthrow new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);\n\t\t}\n\t});\n\treturn module;\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./src/app.es6\");\n",""],"names":["fetch","GET_RECIPES","GET_FEATURED_RECIPE","fetchRecipes","dispatch","method","then","response","json","data","type","recipes","e","console","log","fetchFeaturedRecipe","recipe","getHomePageData","getState","Promise","all","GET_CART_ITEMS","getCartItems","items","express","fs","renderViewMiddleware","server","parameters","app","use","__dirname","get","req","res","readFile","err","status","send","JSON","parse","end","error","listen","cart","state","action","React","useEffect","Component","Route","Link","Cart","renderRoutes","onRouteChange","connect","Nav","App","props","route","routes","history","bindActionCreators","Item","proceedToCheckout","bind","total","reduce","prev","current","price","components","forEach","item","index","push","renderItems","getTotal","mapStateToProps","mapDispatchToProps","cartActions","PropTypes","HTML","__html","renderedToStringComponents","serverState","Object","keys","assets","chunks","javascript","map","key","propTypes","string","name","matchRoutes","WrappedComponent","nextProps","location","matches","pathname","results","match","component","displayName","toLowerCase","indexOf","parentComponent","prefetchActions","substring","wrappedComponent","actions","flat","toFlatten","concat","promises","initialAction","trackPageView","fetchData","navigated","PureComponent","createStore","combineReducers","applyMiddleware","compose","loggerMiddleware","thunkMiddleware","initialState","reducer","middleware","store","renderToString","renderToNodeStream","StaticRouter","Provider","initRedux","renderView","next","path","context","stringifiedServerState","stringify","url","html","featuredRecipe","Products","Profile","Login","exact"],"sourceRoot":""}